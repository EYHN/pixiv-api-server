{"version":3,"sources":["../src/lib/cachedFetch.ts","lib/cachedFetch.js"],"names":["Object","defineProperty","exports","value","logger_1","require","utils","Storage","Map","getContent","content","JSON","parse","e","reset","clear","cachedFetch","url","options","expiry","cacheKey","undefined","md5","cached","get","cachedExpiresAt","age","Date","now","default","info","buffer","Buffer","from","response","Response","Promise","resolve","delete","fetch","then","status","ct","headers","match","clone","text","set"],"mappings":"AAAA;ACCA;;AACAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;ADAA,IAAAC,WAAAC,QAAA,UAAA,CAAA;AACAA,QAAA,kBAAA;AACAA,QAAA,gBAAA;AAEA,IAAMC,QAAQD,QAAQ,SAAR,CAAd;AAEaH,QAAAK,OAAA,GAAU,IAAIC,GAAJ,EAAV;AAEb,SAAAC,UAAA,CAAoBC,OAApB,EAAgC;AAC9B,QAAI;AACFA,kBAAUC,KAAKC,KAAL,CAAWF,OAAX,CAAV;AACD,KAFD,CAEE,OAAOG,CAAP,EAAU,CAAG;AACf,WAAOH,OAAP;AACD;AAMD,SAAAI,KAAA,GAAA;AACEZ,YAAAK,OAAA,CAAQQ,KAAR;AACD;AAFDb,QAAAY,KAAA,GAAAA,KAAA;AAIA,SAAAE,WAAA,CAAoCC,GAApC,EAAwF;AAAA,QAA7BC,OAA6B,uEAAF,EAAE;;AACtF,QAAIC,SAAS,KAAK,EAAlB,CADsF,CACjE;AACrB,QAAIC,WAAmBC,SAAvB;AAEA;AAEAD,eAAW,QAAQd,MAAMgB,GAAN,CAAUL,GAAV,CAAnB;AACA,QAAMM,SAASrB,QAAAK,OAAA,CAAQiB,GAAR,CAAYJ,QAAZ,CAAf;AAEA,QAAMK,kBAAkBvB,QAAAK,OAAA,CAAQiB,GAAR,CAAYJ,WAAW,KAAvB,CAAxB;AACA,QAAIG,WAAWF,SAAX,IAAwBI,oBAAoBJ,SAAhD,EAA2D;AACzD,YAAIK,MAAM,CAACC,KAAKC,GAAL,KAAaH,eAAd,IAAiC,IAA3C;AACA,YAAIC,MAAMP,MAAV,EAAkB;AAChBf,qBAAAyB,OAAA,CAAOC,IAAP,CAAY,iBAAiBV,QAA7B;AACA,gBAAIW,SAASC,OAAOC,IAAP,CAAY,EAAZ,CAAb;AACA,gBAAIC,WAAW,IAAIC,QAAJ,CAAaZ,MAAb,CAAf;AACA,mBAAOa,QAAQC,OAAR,CAAgBH,QAAhB,CAAP;AACD,SALD,MAKO;AACLhC,oBAAAK,OAAA,CAAQ+B,MAAR,CAAelB,QAAf;AACAlB,oBAAAK,OAAA,CAAQ+B,MAAR,CAAelB,WAAW,KAA1B;AACD;AACF;AAED,WAAOmB,MAAMtB,GAAN,EAAWC,OAAX,EAAoBsB,IAApB,CAAyB,UAACN,QAAD,EAAS;AACvC,YAAIA,SAASO,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,gBAAMC,KAAKR,SAASS,OAAT,CAAiBnB,GAAjB,CAAqB,cAArB,CAAX;AACA,gBAAIkB,OAAOA,GAAGE,KAAH,CAAS,oBAAT,KAAkCF,GAAGE,KAAH,CAAS,SAAT,CAAzC,CAAJ,EAAmE;AACjEV,yBAASW,KAAT,GAAiBC,IAAjB,GAAwBN,IAAxB,CAA6B,UAAC9B,OAAD,EAAQ;AACnCR,4BAAAK,OAAA,CAAQwC,GAAR,CAAY3B,QAAZ,EAAsBV,OAAtB,EACGqC,GADH,CACO3B,WAAW,KADlB,EACyBO,KAAKC,GAAL,EADzB;AAED,iBAHD;AAID;AACF;AACD,eAAOM,QAAP;AACD,KAXM,CAAP;AAYD;AAnCDhC,QAAA2B,OAAA,GAAAb,WAAA","file":"cachedFetch.js","sourceRoot":".."}